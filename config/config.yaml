# ═══════════════════════════════════════════════════════════════
#                    TrendRadar 配置文件
# ═══════════════════════════════════════════════════════════════


# ===============================================================
# 1. 基础设置
# ===============================================================
app:
  timezone: "Asia/Shanghai"
  show_version_update: true


# ===============================================================
# 2. 数据源 - 热榜平台
# ===============================================================
platforms:
  
  # === 综合新闻媒体类 ===
  - id: "toutiao"
    name: "今日头条"
  - id: "baidu"
    name: "百度热搜"
  - id: "thepaper"
    name: "澎湃新闻"
  - id: "ifeng"
    name: "凤凰网"
  - id: "cankaoxiaoxi"
    name: "参考消息"
  - id: "sputniknewscn"
    name: "卫星通讯社"
  - id: "zaobao"
    name: "联合早报"
  - id: "mktnews"
    name: "MKT新闻"
  - id: "kaopu"
    name: "靠谱新闻"

  # === 财经投资类 ===
  - id: "wallstreetcn-hot"
    name: "华尔街见闻 最热"
  - id: "wallstreetcn-quick"
    name: "华尔街见闻 快讯"
  - id: "wallstreetcn-news"
    name: "华尔街见闻 最新"
  - id: "cls-hot"
    name: "财联社热门"
  - id: "gelonghui"
    name: "格隆汇"
  - id: "xueqiu"
    name: "雪球"
  - id: "jin10"
    name: "金十数据"
  - id: "fastbull"
    name: "快讯通"

  # === 社交/短视频/娱乐类 ===
  - id: "weibo"
    name: "微博"
  - id: "douyin"
    name: "抖音"
  - id: "bilibili-hot-search"
    name: "bilibili 热搜"
  - id: "tieba"
    name: "贴吧"
  - id: "zhihu"
    name: "知乎"
  - id: "hupu"
    name: "虎扑"

  # === 科技类平台 ===
  - id: "ithome"
    name: "IT之家"
  - id: "juejin"
    name: "掘金"
  - id: "github"
    name: "GitHub"
  - id: "hackernews"
    name: "Hacker News"
  - id: "solidot"
    name: "Solidot"
  - id: "v2ex"
    name: "V2EX"
  - id: "nowcoder"
    name: "牛客网"
  - id: "pcbeta"
    name: "远景论坛"
  - id: "sspai"
    name: "少数派"
  - id: "producthunt"
    name: "ProductHunt"

  # === 其他/工具类 ===
  - id: "chongbuluo"
    name: "虫部落"

  # === NewsNow的信息源（11月20日更新）===
  - id: "tencent-hot"
    name: "腾讯新闻 综合早报"
  - id: "cls-telegraph"
    name: "财联社 电报"
  - id: "cls-depth"
    name: "财联社 深度"
  - id: "fastbull-express"
    name: "法布财经 快讯"
  - id: "fastbull-news"
    name: "法布财经 头条"


# ===============================================================
# 3. 数据源 - RSS 订阅
# ===============================================================
rss:
  enabled: true
  
  freshness_filter:
    enabled: true
    max_age_days: 3

  feeds:
    - id: "hacker-news"
      name: "Hacker News"
      url: "https://hnrss.org/frontpage"

    - id: "ruanyifeng"
      name: "阮一峰的网络日志"
      url: "http://www.ruanyifeng.com/blog/atom.xml"
    
    - id: "yahoo-finance"
      name: "雅虎财经"
      url: "https://finance.yahoo.com/news/rssindex"
      enabled: false


# ===============================================================
# 4. 报告模式
# ===============================================================
report:
  mode: "current"
  display_mode: "keyword"
  rank_threshold: 5
  sort_by_position_first: false
  max_news_per_keyword: 0
  reverse_content_order: false


# ===============================================================
# 5. 推送通知
# ===============================================================
notification:
  enabled: true

  # 推送时间窗口（已禁用，改用多时段推送）
  push_window:
    enabled: false
    start: "20:00"
    end: "22:00"
    once_per_day: true

  channels:
    feishu:
      webhook_url: ""

    dingtalk:
      webhook_url: ""

    wework:
      webhook_url: ""
      msg_type: "markdown"

    telegram:
      bot_token: ""
      chat_id: ""

    email:
      from: ""
      password: ""
      to: ""
      smtp_server: ""
      smtp_port: ""

    ntfy:
      server_url: "https://ntfy.sh"
      topic: ""
      token: ""

    bark:
      url: ""

    slack:
      webhook_url: ""


# ===============================================================
# 6. 存储配置
# ===============================================================
storage:
  backend: "auto"

  formats:
    sqlite: true
    txt: false
    html: true

  local:
    data_dir: "output"
    retention_days: 0

  remote:
    retention_days: 0
    endpoint_url: ""
    bucket_name: ""
    access_key_id: ""
    secret_access_key: ""
    region: ""

  pull:
    enabled: false
    days: 7


# ===============================================================
# 7. 高级设置
# ===============================================================
advanced:
  version_check_url: "https://raw.githubusercontent.com/sansan0/TrendRadar/refs/heads/master/version"

  crawler:
    enabled: true
    request_interval: 1000
    use_proxy: false
    default_proxy: "http://127.0.0.1:10801"

  rss:
    request_interval: 2000
    timeout: 15
    use_proxy: false
    proxy_url: ""
    notification_enabled: true

  weight:
    rank: 0.6
    frequency: 0.3
    hotness: 0.1

  max_accounts_per_channel: 3

  batch_size:
    default: 4000
    dingtalk: 20000
    feishu: 30000
    bark: 4000
    slack: 4000
  batch_send_interval: 3
  feishu_message_separator: "━━━━━━━━━━━━━━━━━━━"
